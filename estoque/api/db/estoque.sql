/* Projeto SQL do Software de Estoque 
   
   Execute o arquivo SQL através do PHPMYADMIN
   http://localhost/phpmyadmin
*/

drop database estoque;
create database estoque;
use estoque;

create table grupos(
id int not null auto_increment primary key,
nome varchar(50) not null);

insert into grupos (nome) values ('Limpeza');
insert into grupos (nome) values ('Bebidas');

/* Criando novas colunas na tabela Grupo  -  exemplo de alter table*/
ALTER TABLE `grupos` ADD `dataCriacao` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP AFTER `nome`, 
                     ADD `status` BOOLEAN NOT NULL DEFAULT TRUE AFTER `dataCriacao`;

create table produtos(
id int not null auto_increment primary key,
codigobarra char(15) null,
nome varchar(50) not null,
preco decimal(10,2) not null,
validade date null,
status boolean not null default true,
foto longtext null,
id_grupo int not null,
  foreign key(id_grupo) references grupos(id));

/* Para converter uma imagem para o formato base64, utilize: https://www.base64-image.de/*/

insert into produtos (codigobarra, nome, preco, validade, id_grupo, foto) values
('7896902205048','Álcool de Limpeza',4.75,null,1, '/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABaAB4DASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD3+uA8Za7qtjqywWd55EQUHAAyT37V3UkyoduRmqFza2Vy3mSLG0h6lhmonqrDRS8Kahe39kzXkolIxhsD+ldDVK2S1tk2weWnrjjNW1cN0I/OnHYGeO/FXxdLb6xBo1iNQimglWeeW3H3l2fKBg8gEgkHipZvH11daSL7TlkgSAKk0dzEskjHKhiMHk/N0wOQfSrPjqzsJ/FzXM18kLx2nklGhLYYjh+BzgHPPQqtYyXTQxeWmvxKojkCCKOWMKztknCrxxkD0qa9WHIox37ndgsNLm9pNadrPX8Ga58W6xbq8ss0EkShW/dQ5IztyD/tANnA7Y5646/whq17qUl0l6sG6ILh4c7SSMkc+nrXDw36CdG/t7zQmCIWEwUDLkfNjJ2ll6/eC812ngm586G4ja9+2NGR+92MuQfXd9KxpyvJam+KpxVNtRt9/wDkaOraSt7c7zPLEdoH7sjn8xVFvDaFt32uUEjacInoB0x7Z/E10F3xtNVPM5q5pJnBCcktGUI9BiTANxMdpzjCj19B7/oK09KsVso2RJZZB3aVsnPH+FIr8etXbf8A1f1NVBK5M5NqzZXv32qgrOL89afqcrfayv8ACoGKoeY3XNRN+8VCOhoJJzWnatmEVzySHI57VraXIzF1PTGaqm9RTjoee/FHxjP4cmFpZq0V7P5TRXLxholXdh8g98D9an0jxOuq6bazQrDczvGTMltMG8sjsf0/E4pfiPoyaxrWlLM5jgifMjkDbtPB5x94AHHbmuP0qOfQbidrLRJIvtH7tmLCVPKG9sLtAxk4HuT7CrmoShZbiptqWux12o3N5MV3QSW6/dVSTye5OO31rrvDLvKssjzrKSABsHyjHp615elxeusbSWnkxtjLFh1+bGA2CAcAEnpnODxXoPgJLhNPmFztaQkHzEBAf6ZwcfhWVOMk9TetODhaP5F/xBZyufPjUshTa+BnHviuJbRpGbcr2rjjG6Ig4znsfWvVqoXllalN5toSxPJ8sZp1Ia3TMqVS2ljz+y0n7Ocv9mVuNvlQ89+5rvNGtpIYWklUq0nRT1AqeytbeNA6W8Sv/eCAGrlOnDq2KrO+lj//2Q==');

insert into produtos (codigobarra, nome, preco, validade, id_grupo, foto) values
('5010106111451','Whisky Red Label',79.90,null,2, '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');

insert into produtos (codigobarra,  nome, preco, validade, id_grupo, foto) values
('7894900011517','Coca Cola 2L',7.90,'2017-12-31',2, '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');

commit;

create table usuarios(
id int not null auto_increment primary key,
nome varchar(50) not null,
login varchar(20) not null,
foto longtext null,
status boolean not null default true,
tipo varchar(13) not null default 'administrador',
senha blob not null);

/* Para converter uma imagem para o formato base64, utilize: https://www.base64-image.de/*/

insert into usuarios (nome, login, senha, foto) values
('administrador','admin',AES_ENCRYPT('123456','fatec'),'/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMpaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6MzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgV2luZG93cyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4N0IwMUU1QkI5RUQxMUUwOUZEMzlBMTJCRThDNkREQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4N0IwMUU1Q0I5RUQxMUUwOUZEMzlBMTJCRThDNkREQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg3QjAxRTU5QjlFRDExRTA5RkQzOUExMkJFOEM2RERBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjg3QjAxRTVBQjlFRDExRTA5RkQzOUExMkJFOEM2RERBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4AJkFkb2JlAGTAAAAAAQMAFQQDBgoNAAAFqAAABk4AAAcwAAAIWf/bAIQABgQEBAUEBgUFBgkGBQYJCwgGBggLDAoKCwoKDBAMDAwMDAwQDA4PEA8ODBMTFBQTExwbGxscHx8fHx8fHx8fHwEHBwcNDA0YEBAYGhURFRofHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8f/8IAEQgAQABAAwERAAIRAQMRAf/EALcAAQACAwEBAAAAAAAAAAAAAAAFBgIDBwEEAQEBAQAAAAAAAAAAAAAAAAAAAQIQAAEDBAEEAwAAAAAAAAAAAAMAAQIREgQFIBBgEzQwFAYRAAEBBQMJBgcAAAAAAAAAAAECABEhMQMgURIQQWFxkaGxwVIwgdEiMkJicoKyIzMUEgEAAAAAAAAAAAAAAAAAAABgEwEAAQIGAgIDAQEAAAAAAAABEQAhIDAxQVFhEHGRofCBsWDB/9oADAMBAAIRAxEAAAHoWoAAAABBxgTtZAAjyi5ouNkzQAiYocouVlgoAaTl+brOlakgAaSDiiy6y6WT1fcQMc7l+cA9My6WV2K6voABIH//2gAIAQEAAQUC+Mu0HGUdtGrOztwz5vDEqqrVTeWLw2no1VVpfW4GGxREhMZFg4/gxupCiFHI3IIxMaRSNOj4u7Z4hzcUzra7L6Yy5RSzuVVVVXkktNtJkJ+gK89je6vdXOrnV7q91rSPHO//2gAIAQIAAQUC7A//2gAIAQMAAQUC7A//2gAIAQICBj8CAf/aAAgBAwIGPwIB/9oACAEBAQY/AuzdTTjd7nuHdNvMhybwX7nBgREGRs1FCctpdld0qIHHnZqfT9wyr+c8BZVTMlBzKprgpMC0JsimfVNWs2MVRQQLy34vOrMTBO+LKqKL1KmWBuZ1cPPWnmPBnU6gKumR2GOQBMaq/To0tjWolV5tfz1TiJ/WozhmY3ISEjjzt0FfGH6jA7m//9oACAEBAwE/IctzEKFfwE/EUw95Knf/AAU/YKQ0R3wv7EAPEUvvzuFp6lbIGPVYbs3qbxO9EhLh/NmhVC5WA1Wk2z+0fjTB3hlCl0XYaXuxfoqUgJoY1RQiaycUMaGyX+0+X6ruQCfrPAAhJu0BqjfWxSRL3pfRwdFqUt3Bwt5DQaFPA6iQlbvYkaARvJ+OYYwoA487s/oZr//aAAgBAgMBPyHLmpyTIM2fM5bkf//aAAgBAwMBPyH/AAH/2gAMAwEAAhEDEQAAEEkkkkl3kkgIkksB0khJElHAYtJIAfAAAv/aAAgBAQMBPxDLk2VKNLMiNd4cFoKn9d7RKhvJeqBKJkQJAmomFeSlWGUhNEJlAACwEBwFEbjetZtjsfSsOsM5AmFPoZfO1ZoxPUGF1EeNYYB2a1IiG8iTc5C48UOS0GVDAAaq1pWFFe/FJ2h6wMS1iCrwS3eipPYXHOYPVvcmtISk4BLpoWALBsU9Jz4CSK2RKKSQSD2VE/Q8aK1lgxwTVjY7jwS8mL4sAhUgkJ5gasRlYiN5LHUnSpQi8rLXvXvR3o0LxNwCaJw9lLuGU8qVfIvZFbVOEHTZIWnN1PUbV0ldB811nzXWfNdJXWUmoQw2mL0KXFf/2gAIAQIDAT8Qy3GOQdMsGF8ik+FxjkCv/9oACAEDAwE/EMuKjEeXCeXNjzHkxpRja//Z');


create table clientes(
id int not null auto_increment,
nome varchar(100) not null,
tipoCliente ENUM('Física','Jurídica') default 'Física',
situacao boolean not null default TRUE,
cpf char(14) null,
cnpj char(18) null,
dataCriacao timestamp not null default CURRENT_TIMESTAMP,
dataAlteracao timestamp null,
constraint pk_clientes primary key (id)
); 

insert into clientes (nome,tipoCliente,cpf) values 
('Maria Angélica Gomes','Física','182.256.648-28');

insert into clientes (nome,tipoCliente,cpf,situacao) values 
('Joaquim Gomes','Física','194.317.583-19',false);

insert into clientes (nome,tipoCliente,cnpj) values 
('Extra Hipermercados Ltda','Jurídica','45.321.154/0001-78');

create table pedidos(
id int not null auto_increment,
dataCriacao timestamp not null default CURRENT_TIMESTAMP,
situacao ENUM('Aberto','Pendente','Encerrado') default 'Aberto',
cliente int not null,
usuario int not null,
constraint pk_pedidos primary key (id),
constraint fk_pedidos_usuarios foreign key (usuario) references usuarios(id),
constraint fk_pedidos_clientes foreign key (cliente) references clientes(id)
);

insert into pedidos (cliente, usuario) values (2,1);

create table itempedidos(
id int not null auto_increment,
pedido int not null,
produto int not null,
quantidade numeric(8,2) not null,
constraint pk_itempedidos primary key (id),
constraint fk_itempedidos_pedido foreign key (pedido) references pedidos(id),
constraint fk_itempedidos_produto foreign key (produto) references produtos(id)
);

insert into itempedidos (pedido, produto, quantidade) values (1,3,4);
insert into itempedidos (pedido, produto, quantidade) values (1,2,8);